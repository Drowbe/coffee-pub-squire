<div class="notes-icon-picker">
    <div class="notes-form-header">
        <div class="notes-form-header-content">
            <div class="notes-form-header-title">
                <div class="notes-icon-picker-title"><i class="fa-solid fa-location-dot"></i> Token Design</div>
            </div>
            <div class="notes-form-header-controls">
                <div class="notes-edit-toggle-container">
                    <span class="notes-edit-toggle-label">Use as Default</span>
                    <div class="notes-edit-toggle">
                        <input type="checkbox" id="notes-pin-default-toggle" class="notes-pin-default">
                        <label for="notes-pin-default-toggle" class="notes-edit-toggle-slider"></label>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="notes-form-body">
        <div class="notes-section notes-pin-design-section">
            <div class="notes-section-header"><i class="fa-solid fa-ruler-combined"></i> Pin Design</div>
            <div class="notes-section-body">
                <div class="notes-pin-design-row">
                    <label class="notes-pin-design-field">
                        <span>Width</span>
                        <input type="number" class="notes-input notes-pin-width" min="8" step="1" value="{{pinWidth}}">
                    </label>
                    <label class="notes-pin-design-field">
                        <span>Height</span>
                        <input type="number" class="notes-input notes-pin-height" min="8" step="1" value="{{pinHeight}}">
                    </label>
                </div>
                <label class="notes-pin-design-toggle">
                    <input type="checkbox" class="notes-pin-lock" {{#if lockProportions}}checked{{/if}}>
                    Constrain proportions
                </label>
                <div class="notes-pin-design-row">
                    <label class="notes-pin-design-field">
                        <span>Shape</span>
                        <select class="notes-input notes-pin-shape">
                            <option value="circle" {{#if (eq pinShape "circle")}}selected{{/if}}>Circle</option>
                            <option value="square" {{#if (eq pinShape "square")}}selected{{/if}}>Square</option>
                            <option value="none" {{#if (eq pinShape "none")}}selected{{/if}}>None</option>
                        </select>
                    </label>
                    <label class="notes-pin-design-field">
                        <span>Border</span>
                        <div class="notes-pin-border-row">
                            <input type="text" class="notes-input notes-pin-stroke" value="{{pinStroke}}">
                            <input type="number" class="notes-input notes-pin-stroke-width" min="0" step="1" value="{{pinStrokeWidth}}">
                        </div>
                    </label>
                </div>
                <label class="notes-pin-design-toggle">
                    <input type="checkbox" class="notes-pin-shadow" {{#if pinDropShadow}}checked{{/if}}>
                    Drop shadow
                </label>
            </div>
        </div>

        <div class="notes-section notes-pin-text-section">
            <div class="notes-section-header"><i class="fa-solid fa-font"></i> Text Format</div>
            <div class="notes-section-body">
                <div class="notes-pin-design-row">
                    <label class="notes-pin-design-field">
                        <span>Text layout</span>
                        <select class="notes-input notes-pin-text-layout">
                            <option value="under" {{#if (eq pinTextLayout "under")}}selected{{/if}}>Under</option>
                            <option value="over" {{#if (eq pinTextLayout "over")}}selected{{/if}}>Over</option>
                            <option value="around" {{#if (eq pinTextLayout "around")}}selected{{/if}}>Around</option>
                        </select>
                    </label>
                    <label class="notes-pin-design-field">
                        <span>Text display</span>
                        <select class="notes-input notes-pin-text-display">
                            <option value="always" {{#if (eq pinTextDisplay "always")}}selected{{/if}}>Always</option>
                            <option value="hover" {{#if (eq pinTextDisplay "hover")}}selected{{/if}}>Hover</option>
                            <option value="never" {{#if (eq pinTextDisplay "never")}}selected{{/if}}>Never</option>
                            <option value="gm" {{#if (eq pinTextDisplay "gm")}}selected{{/if}}>GM only</option>
                        </select>
                    </label>
                </div>
                <div class="notes-pin-design-row">
                    <label class="notes-pin-design-field">
                        <span>Text color</span>
                        <input type="text" class="notes-input notes-pin-text-color" value="{{pinTextColor}}">
                    </label>
                    <label class="notes-pin-design-field">
                        <span>Text size</span>
                        <input type="number" class="notes-input notes-pin-text-size" min="6" step="1" value="{{pinTextSize}}">
                    </label>
                </div>
                <div class="notes-pin-design-row">
                    <label class="notes-pin-design-field">
                        <span>Max length</span>
                        <input type="number" class="notes-input notes-pin-text-max-length" min="0" step="1" value="{{pinTextMaxLength}}">
                    </label>
                </div>
                <label class="notes-pin-design-toggle">
                    <input type="checkbox" class="notes-pin-text-scale" {{#if pinTextScaleWithPin}}checked{{/if}}>
                    Scale text with pin
                </label>
            </div>
        </div>

        <div class="notes-icon-source-toggle">
            <button type="button" class="notes-icon-source-option {{#if (eq iconMode 'image')}}active{{/if}}" data-source="image">
                <i class="fa-solid fa-image"></i> Image
            </button>
            <button type="button" class="notes-icon-source-option {{#if (eq iconMode 'icon')}}active{{/if}}" data-source="icon">
                <i class="fa-solid fa-icons"></i> Icon
            </button>
        </div>

        <div class="notes-section">
            <div class="notes-section-header"><i class="fa-solid fa-image"></i> Image URL</div>
            <div class="notes-section-body">
                <div class="notes-icon-image-row">
                    <input type="text" class="notes-input notes-icon-image-input" placeholder="Paste image URL..." value="{{imageValue}}">
                    <button type="button" class="btn-secondary notes-icon-browse"><i class="fa-solid fa-folder-open"></i> Browse</button>
                </div>
            </div>
        </div>

        <div class="notes-section">
            <div class="notes-section-header"><i class="fa-solid fa-icons"></i> Icon Library</div>
            <div class="notes-section-body">
                <div class="notes-icon-grid">
                    {{#each icons}}
                    <button type="button" class="notes-icon-option {{#if this.isSelected}}selected{{/if}}" data-type="fa" data-value="{{this.value}}" title="{{this.label}}">
                        <i class="fa-solid {{this.value}}"></i>
                    </button>
                    {{/each}}
                </div>
            </div>
        </div>
    </div>

    <div class="form-actions">
        <button type="button" class="btn-secondary cancel">
            <i class="fa-solid fa-times"></i> Cancel
        </button>
        <button type="button" class="btn-primary notes-icon-use">
            <i class="fa-solid fa-check"></i> Use Icon
        </button>
    </div>
</div>
