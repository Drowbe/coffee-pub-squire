{{#if (eq position "left")}}
{{#unless isDiceTrayPopped}}
<div class="tray-title-small">
    {{#if actor}}Dice Tray: {{actor.name}}{{else}}Dice Tray: No Character{{/if}}
    <div class="dicetray-controls">
        <i class="fa-solid fa-up-right-from-square pop-out-button" title="Pop out to window"></i>
        <i class="fas fa-chevron-down dicetray-toggle" title="Toggle Dice Tray"></i>
    </div>
</div>
{{/unless}}

<div class="dicetray-content">
    <div class="squire-dice-formula">
        <div class="squire-input-wrapper">
            <input type="text" class="squire-formula-input" placeholder="Enter dice formula">
            <i class="fas fa-times squire-clear-button" title="Clear Formula"></i>
        </div>
        <i class="fas fa-dice squire-roll-button" title="Roll Formula"></i>
        <i class="fas fa-dice squire-roll-button advantage" title="Roll with Advantage: Doubles the number of dice and keeps the higher half of the results"></i>
        <i class="fas fa-dice squire-roll-button disadvantage" title="Roll with Disadvantage: Doubles the number of dice and keeps the lower half of the results"></i>
    </div>

    <div class="squire-dice-row">
        <i class="fas fa-coin squire-dice-icon" data-die="d2"></i>
        <i class="fas fa-dice-d4 squire-dice-icon" data-die="d4"></i>
        <i class="fas fa-dice-d6 squire-dice-icon" data-die="d6"></i>
        <i class="fas fa-dice-d8 squire-dice-icon" data-die="d8"></i>
        <i class="fas fa-dice-d10 squire-dice-icon" data-die="d10"></i>
        <i class="fas fa-dice-d12 squire-dice-icon" data-die="d12"></i>
        <i class="fas fa-dice-d20 squire-dice-icon" data-die="d20"></i>
        <i class="fas fa-hundred-points squire-dice-icon" data-die="d100"></i>
    </div>

    <div class="squire-controls-row">
        <i class="fas fa-plus squire-operator-icon" data-op="+" title="Addition: add the previous dice to the next dice."></i>
        <i class="fas fa-minus squire-operator-icon" data-op="-" title="Subtraction: subtract the previous dice from the next dice."></i>
        <i class="fas fa-times squire-operator-icon" data-op="*" title="Multiplication: multiply the previous dice by the next dice."></i>
        <i class="fas fa-divide squire-operator-icon" data-op="/" title="Division: divide the previous dice by the next dice."></i>
        <i class="fas fa-circle-arrow-up squire-modifier-icon" data-mod="kh" title="Keep Highest: Keeps the highest results from the roll. Click once for kh1, click again to increase the number of dice kept"></i>
        <i class="fas fa-circle-arrow-down squire-modifier-icon" data-mod="kl" title="Keep Lowest: Keeps the lowest results from the roll. Click once for kl1, click again to increase the number of dice kept"></i>
        <i class="fas fa-circle-plus squire-modifier-icon" data-mod="bonus" title="Add Bonus: Adds to the final result. Click once for +1, click again to increase the bonus"></i>
        <i class="fas fa-circle-minus squire-modifier-icon" data-mod="penalty" title="Add Penalty: Subtracts from the final result. Click once for -1, click again to increase the penalty"></i>
    </div>

    <div class="squire-dice-history">
        <div class="history-header">
            <div class="tray-title-small">Recent Rolls</div>
            <div class="history-controls">
                <i class="fas fa-circle-xmark history-clear" title="Clear History"></i>
            </div>
        </div>
        <div class="squire-history-list">
            <div class="history-entry empty-message">No recent rolls</div>
        </div>
    </div>
</div>
{{/if}} 