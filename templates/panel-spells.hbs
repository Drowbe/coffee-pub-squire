<div class="spells-panel">
    <div class="spell-controls">
        <input type="text" class="spell-search" placeholder="Search spells...">
        <select class="spell-filter">
            <option value="all">All Levels</option>
            <option value="cantrip">Cantrips</option>
            {{#each spellSlots}}
            <option value="{{this.level}}">Level {{this.level}}</option>
            {{/each}}
        </select>
    </div>

    <div class="spell-slots">
        {{#each spellSlots}}
        <div class="slot-group">
            <div class="slot-label">Level {{this.level}}</div>
            <div class="slot-pips">
                {{#times this.max}}
                <div class="slot-pip {{#if (lte @index ../value)}}filled{{/if}}" 
                     data-level="{{../level}}" 
                     data-index="{{@index}}"></div>
                {{/times}}
            </div>
        </div>
        {{/each}}
    </div>

    <div class="spells-list">
        {{#each spells}}
        <div class="spell-item {{#if this.prepared}}prepared{{/if}}" data-spell-id="{{this.id}}">
            <div class="spell-row">
                <div class="spell-image-container">
                    <img class="spell-image" src="{{this.img}}" alt="{{this.name}}"/>
                    <i class="fas fa-dice-d20 spell-roll-overlay"></i>
                </div>
                <div class="spell-name">{{this.name}}</div>
                <div class="spell-level">
                    {{#if (eq this.level 0)}}
                    C
                    {{else}}
                    {{this.level}}
                    {{/if}}
                </div>
                <div class="spell-controls">
                    <a class="spell-info" title="Spell Details">
                        <i class="fas fa-feather"></i>
                    </a>
                </div>
            </div>
        </div>
        {{/each}}
    </div>
</div> 