<form class="quest-form">
    <div class="form-group">
        <label>Name</label>
        <input type="text" name="name" value="{{quest.name}}" required>
    </div>

    <div class="form-group">
        <label>Category</label>
        <select name="category">
            {{#each categories as |category|}}
                {{#if (or (eq category "Main Quest") (eq category "Side Quest"))}}
                    <option value="{{category}}" {{#if (eq ../quest.category category)}}selected{{else if (and (eq category "Main Quest") (not ../quest.category))}}selected{{/if}}>{{category}}</option>
                {{/if}}
            {{/each}}
        </select>
    </div>

    <div class="form-group">
        <label>Status</label>
        <select name="status">
            <option value="Not Started" selected>Not Started</option>
            <option value="In Progress">In Progress</option>
            <option value="Complete">Complete</option>
            <option value="Failed">Failed</option>
        </select>
    </div>

    <div class="form-group">
        <label>Description</label>
        <textarea name="description" rows="4">{{quest.description}}</textarea>
    </div>

    <div class="form-group">
        <label>Plot Hook</label>
        <textarea name="plotHook" rows="3">{{quest.plotHook}}</textarea>
    </div>

    <div class="form-group">
        <label>Location</label>
        <input type="text" name="location" value="{{quest.location}}">
    </div>

    <div class="form-group">
        <label>Participants (comma-separated UUIDs)</label>
        <input type="text" name="participants" value="{{quest.participants}}" placeholder="Actor UUIDs separated by commas">
        <p class="hint">Enter actor UUIDs separated by commas to assign participants to this quest</p>
    </div>

    <div class="form-group">
        <label>Tasks (one per line)</label>
        <textarea name="tasks" rows="4">{{quest.tasks}}</textarea>
    </div>

    <div class="form-group">
        <label>Experience Points</label>
        <input type="number" name="reward.xp" value="{{quest.reward.xp}}" placeholder="XP">
    </div>

    <div class="form-group">
        <label>Treasure</label>
        <input type="text" name="reward.treasure" value="{{quest.reward.treasure}}" placeholder="Treasure">
    </div>

    <div class="form-group">
        <label>Timeframe</label>
        <input type="text" name="timeframe.duration" value="{{quest.timeframe.duration}}" placeholder="Duration">
    </div>

    <div class="form-group">
        <label>Tags (comma-separated)</label>
        <input type="text" name="tags" value="{{quest.tags}}">
    </div>

    {{#if isGM}}
    <div class="form-group">
        <label>Visibility</label>
        <div class="form-fields">
            <label class="checkbox">
                <input type="checkbox" name="visible">
                Visible to Players
            </label>
        </div>
    </div>
    {{/if}}

    <div class="form-group buttons">
        <button type="submit">
            <i class="fa-solid fa-save"></i> Save Quest
        </button>
        <button type="button" class="cancel">
            <i class="fa-solid fa-times"></i> Cancel
        </button>
    </div>
</form> 